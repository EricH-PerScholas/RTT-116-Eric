<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- html comment -->
    <script>

        // !!!!!! best practicce is to always use let when defining variables and only
        // use var when you know you need it globally avilable for the document.   Have to 
        // have a reason why you think it should be global.

        // var becomes a global variable accesable by any function
        // in the document 
        /* can also do this java style ... this is dangerous i have seen pages not work
          and be very hard to diagnose why due to this commenting especially when 
          there are code chunks within it. */
        var a = 10;
        var b = "String";
        var c = true;
        let x = 10;

        function abc(arg1, arg2) {
            // let scopes this variable to the containing {}
            let x = 15 + arg1;
            var y = 20;
            console.log(y);

            return "some value";
        }

        console.log(x);

        // x is not available here because it is confied inside the function
        // y IS available here because it was defined as a var which is global scope to the document

        var r = abc("one");

        // this is similar to System.out.println("") and writes to the console on the browser inspect
        console.log("hello world");


        console.log("Hello" + " world");

        // what will this this print???? will print 11 because
        // it sees the string and assume this is a string concatination
        console.log("1" + 1);
        console.log(1 + "1");

        //       0123456789
        let k = "KBA Review";
        console.log(k.lastIndexOf("e"));
        console.log(k.substring(4, 5));

        // we cant subtract one string from another AND 
        // it has a sepecific result that happens NaN
        console.log("Hello" - " world");


        // let will not let you define the same variable 2 times
        // this is litterally an Error
        let v1 = "abc";
        let v1 = "xyz";
        console.log(v1);

        // var will
        var v2 = "abc";
        var v2 = "xyz";

        //      yyyy-MM-dd HH:mm:ss
        let now = new Date("2019-01-24 18:31:44");
        //   DDD MMM dd yyyy HH:mm:ss
        let date = new Date("Thu Jan 29 2009 08:31:44");

        // 1 === 1
        // True is the actual output printed to the console
        console.log(now.getMonth() === date.getMonth());


        array.forEach()


        // == is comparing the value
        let e1 = 3 == 3; // isEqual is true
        let e2 = 3 == "3"; // isEqual is true
        let e3 = "3" == "3"; // isEqual is true

        // === compares the value and the type
        let e4 = "3" === 3; // e4 is false because === compares the type
        let e5 = 3 === 3; // this is true because same type and same value

        // common gotacha in javascript
        // when using + if one of your variables is a string then it will
        // do string concatination rather than aritmatic
        let o = "8";
        try {
            console.log(o + 8);
            console.log("8" + 8);
            console.log(8 + "8");

            var z = 10 / 0;
        } catch (error) {

        }

        // javscript value object can be much simpler than a Java entity
        let person = {
            firstName: "John",
            lastName: "Doe",
            age: 50,
            eyeColor: "blue"
        };

        // using for ... in it looks over the keys not the values
        for (let key in person) {
            console.log(key);
        }



        // there are many differnt ways of accessing the properties of person
        console.log(person.firstName);
        console.log(person["firstName"]);

        person.height = "59"

        let key = "height";
        console.log(person.height);
        console.log(person["height"]);
        console.log(person[key]);

        // arrays work very similar to java but they are much more flexible.
        let arr = [];
        arr[1] = null;
        arr[5] = 2468;
        arr[10] = 1234;
        console.log(arr);
        console.log(arr.length);

        // split 
        let data = "a, b, c, d, e";
        let dataArr = data.split(",")
        console.log(dataArr);

        // using for ... of it loop over the values of the array
        // similar to a new style for loop in java to loop over list or array
        for (let value of arr) {
            console.log(value);
        }

        // there is also a for each - similar to a java lambda
        arr.forEach(element => { console.log("for each " + element) })


        alert("Some message");


        // forEach
        //         1, 4, 9, 16, 25, 
        //         ,25, 16, 9, 4, 1
        let kba19 = [1, 2, 3, 4, 5, ];
        kba19.forEach(function (value, index, array) {
            array[index] = value * value
        });
        console.log(kba19.reverse().filter(function (x) {
            // when autoboxing from a number to a boolean ... in javascript
            // when the result is 0 it means it will remove it from the list
            // so when the
            return x % 5
        }));

    </script>
    <h1>Javascript Basics</h1>
</body>

</html>